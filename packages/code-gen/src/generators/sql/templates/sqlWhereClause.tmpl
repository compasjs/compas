{{ if (item.whereFields.length > 0) { }}
{{ let keysToSkip = it?.skipKeys ?? []; }}
{{ let result = "WHERE"; }}
{{ for (const it of item.whereFields) { }}
  {{ if (keysToSkip.indexOf(it.name) !== -1) { continue; } }}

  {{ if (["includeNotNull"].indexOf(it.type) === -1) { }}
    {{ result += " (COALESCE(${" + variable + "?." + it.name + " ?? null}, NULL) IS NULL OR " + item.shortName + "." + `"${it.key}"` + " "; }}
  {{ } else { }}
    {{ result += " ("; }}
  {{ } }}

  {{ if (it.type === "equal") { }}
    {{ result += "= ${"+ variable + "?." + it.name + "?? null}"; }}
  {{ } else if (it.type === "greaterThan") { }}
    {{ result += "> ${"+ variable + "?." + it.name + "?? null}"; }}
  {{ } else if (it.type === "lowerThan") { }}
    {{ result += "< ${"+ variable + "?." + it.name + " ?? null}"; }}
  {{ } else if (it.type === "like") { }}
    {{ result += "LIKE ${'%' + "+ variable + "?." + it.name + " +'%'}"; }}
  {{ } else if (it.type === "in") { }}
    {{ result += "= ANY (${sql.array("+ variable + "?." + it.name + " ?? [])}::uuid[])"; }}
  {{ } else if (it.type === "includeNotNull") { }}
    {{ result += "${" + variable + "?." + it.name + "?? false} IS TRUE OR " + item.shortName + "." + `"${it.key}" IS NULL`; }}
  {{ } }}

  {{ result += ") AND"; }}
{{ } }}
{{= result.substring(0, result.length - 4) }}
{{ } }}
