// Generated by @compas/code-gen
/* eslint-disable no-unused-vars */

import FormData from "form-data";
import { isPlainObject } from "@compas/stdlib";
import * as validators from "./validators.js";
import { handleError } from "../common/apiClient.js";

/**
 * Return the full generated structure as a json object.
 *
 * Tags: _compas
 *
 * @param {AxiosInstance} instance
 * @param { { signal?: AbortSignal | undefined } } [requestConfig]
 * @returns {Promise<CompasStructureResponseApiResponse>}
 */
export async function apiCompasStructure(instance, requestConfig = {}) {
  try {
    const response = await instance.request({
      url: `_compas/structure.json`,
      method: "get",
      ...requestConfig,
    });
    const { error } = validators.validateCompasStructureResponse(response.data);
    if (error) {
      throw error;
    }
    return response.data;
  } catch (e) {
    return handleError(e, "compas", "structure");
  }
}
